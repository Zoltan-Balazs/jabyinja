\chapter{Fejlesztői dokumentáció}
\label{ch:impl}

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis nibh leo, dapibus in elementum nec, aliquet id sem. Suspendisse potenti. Nullam sit amet consectetur nibh. Donec scelerisque varius turpis at tincidunt.

\section{Forráskódok}

Nulla sodales purus id mi consequat, eu venenatis odio pharetra. Cras a arcu quam. Suspendisse augue risus, pulvinar a turpis et, commodo aliquet turpis. Nulla aliquam scelerisque mi eget pharetra. Mauris sed posuere elit, ac lobortis metus. Proin lacinia sit amet diam sed auctor. Nam viverra orci id sapien sollicitudin, a aliquam lacus suscipit. Quisque ac tincidunt leo \ref{src:cpp}. és \ref{src:csharp}.~forráskód:

\lstset{caption={Hello World in C++}, label=src:cpp}
\begin{lstlisting}[language={C++}]
#include <stdio>

int main() 
{
	int c;
	std::cout << "Hello World!" << std::endl;

	std::cout << "Press any key to exit." << std::endl;
	std::cin >> c;
	
	return 0;
}
\end{lstlisting}

\lstset{caption={Hello World in C\#}, label=src:csharp}
\begin{lstlisting}[language={[Sharp]C}]
using System;
namespace HelloWorld
{
	class Hello 
	{
		static void Main() 
		{
			Console.WriteLine("Hello World!");
			
			Console.WriteLine("Press any key to exit.");
			Console.ReadKey();
		}
	}
}
\end{lstlisting}

\subsection{Algoritmusok}

Az \ref{alg:ibb}.~algoritmus egy általános elágazás és korlátozás algoritmust (\emph{Branch and Bound algorithm}) mutat be. A \ref{step:selrule}.~lépésben egy megfelelő kiválasztási szabályt kell alkalmazni.
Példa forrása: \href{https://www.inf.u-szeged.hu/actacybernetica/}{Acta Cybernetica (ez egy hiperlink)}.

\begin{algorithm}[H]
\caption{A general interval B\&B algorithm}
\label{alg:ibb}
\textbf{\underline{Funct}} IBB($S,f$)
\begin{algorithmic}[1] % sorszámok megjelenítése minden n. sor előtt, most n = 1
\State Set the working list ${\cal L}_W$ := $\{S\}$ and the final list ${\cal L}_Q$ := $\{\}$
\While{( ${\cal L}_W \neq \emptyset$ )} \label{alg:igoend}
	\State Select an interval $X$ from ${\cal L}_W$ \label{step:selrule}\Comment{Selection rule}
	\State Compute $lbf(X)$ \Comment{Bounding rule}
	\If{$X$ cannot be eliminated} \Comment{Elimination rule}
		\State Divide $X$ into $X^j,\ j=1,\dots, p$, subintervals   \Comment{Division rule}
		\For{$j=1,\ldots,p$}
			\If{$X^j$ satisfies the termination criterion} \Comment{Termination rule}
				\State Store $X^j$ in ${\cal L}_W$
			\Else
				\State Store $X^j$ in ${\cal L}_W$
			\EndIf
		\EndFor
	\EndIf
\EndWhile
\State \textbf{return} ${\cal L}_Q$
\end{algorithmic}
\end{algorithm}

\section{Classfájl felépítése}

A legegyszerűbb Classfájl ami értelmes, viszont nem futattható:

\begin{center}
\begin{tabular}{ c c c c c c c c c c c c c c c }
\stagemagic{CA} & \stagemagic{FE} & \stagemagic{BA} & \stagemagic{BE} & \stageminor{00} & \stageminor{00} & \stagemajor{00} & \stagemajor{00} & \stageconstantsize{00} & \stageconstantsize{00} & \stageaccessflags{00} & \stageaccessflags{00} & \stagethisclass{00} & \stagethisclass{00} & \stagesuperclass{00} \\
\stagesuperclass{00} & \stageinterfacesize{00} & \stageinterfacesize{00} & \stagefieldsize{00} & \stagefieldsize{00} & \stagemethodsize{00} & \stagemethodsize{00} & \stageattributes{00} & \stageattributes{00}
\end{tabular}
\end{center}

Java kódban ennek megfelelője az üres fájl:
\begin{minted}{java}
\end{minted}

Classfájl formátumának magyarázata:

\begin{compactitem}
\setlength\itemsep{-5px}
\item \stagemagic{CA FE BA BE}: Mágikus szám, amely minden Class fájl elején megtalálható
\item \stageminor{00 00} \stagemajor{00 00}: Class fájl \lstinline{Minor} és \lstinline{Major} verziószáma, egy táblázatnak megfelelően a fordítóprogram verziója
\item \stageconstantsize{00 00}: A Constant Pool mérete (+1, mivel 1-től indexelt, itt nem számít)
\item \stageaccessflags{00 00}: Hozzáférési zászlók ()
\item \stagethisclass{00 00}: \lstinline{This} osztály indexe a Constant Pool-ban
\item \stagesuperclass{00 00}: \lstinline{Super} osztály indexe a Constant Pool-ban
\item \stageinterfacesize{00 00}: Interfészek száma
\item \stagefieldsize{00 00}: Adattagok száma
\item \stagemethodsize{00 00}: Függvények száma
\item \stageattributes{00 00}: Osztály attribútumainak száma
\end{compactitem}

\pagebreak

A legegyszerűbb Classfájl amit a $Jabyinja$ program le tud futtatni (a beépített \lstinline{java} program nem képes ezt lefuttatni, mivel nincsenek benne osztályok, a JVM specifikáció alapján az osztályok elhanyagolhatóak):

\begin{center}
\begin{tabular}{ c c c c c c c c c c c c c c c }
\stagemagic{CA} & \stagemagic{FE} & \stagemagic{BA} & \stagemagic{BE} & \stageminor{00} & \stageminor{00} & \stagemajor{00} & \stagemajor{00} & \stageconstantsize{00} & \stageconstantsize{04} & \stageconstantpool{01} & \stageconstantpool{00} & \stageconstantpool{04} & \stageconstantpool{43} & \stageconstantpool{6F} \\
\stageconstantpool{64} & \stageconstantpool{65} & \stageconstantpool{01} & \stageconstantpool{00} & \stageconstantpool{04} & \stageconstantpool{6D} & \stageconstantpool{61} & \stageconstantpool{69} & \stageconstantpool{6E} & \stageconstantpool{01} & \stageconstantpool{00} & \stageconstantpool{03} & \stageconstantpool{28} & \stageconstantpool{29} & \stageconstantpool{56} \\
\stageaccessflags{00} & \stageaccessflags{21} & \stagethisclass{00} & \stagethisclass{00} & \stagesuperclass{00} & \stagesuperclass{00} & \stageinterfacesize{00} & \stageinterfacesize{00} & \stagefieldsize{00} & \stagefieldsize{00} & \stagemethodsize{00} & \stagemethodsize{01} & \stagemethods{00} & \stagemethods{09} & \stagemethods{00} \\ 
\stagemethods{02} & \stagemethods{00} & \stagemethods{03} & \stagemethods{00} & \stagemethods{01} & \stagemethods{00} & \stagemethods{01} & \stagemethods{00} & \stagemethods{00} & \stagemethods{00} & \stagemethods{0D} & \stagemethods{00} & \stagemethods{00} & \stagemethods{00} & \stagemethods{00} \\
\stagemethods{00} & \stagemethods{00} & \stagemethods{00} & \stagemethods{01} & \stagemethods{B1} & \stagemethods{00} & \stagemethods{00} & \stagemethods{00} & \stagemethods{00} & \stageattributes{00} & \stageattributes{00}
\end{tabular}
\end{center}

Java kód megfelelője:
\begin{minted}{java}
public static void main() {
    return;
}
\end{minted}

Classfájl formátumának magyarázata:

\begin{compactitem}
\setlength\itemsep{-5px}
\item \stagemagic{CA FE BA BE}: Mágikus szám, amely minden Classfájl elején megtalálható
\item \stageminor{00 00} \stagemajor{00 00}: Classfájl \lstinline{Minor} és \lstinline{Major} verziószáma, egy táblázatnak megfelelően a \lstinline{javac} fordítóprogram verziója
\item \stageconstantsize{00 04}: A Constant Pool mérete (+1, mivel 1-től indexelt)
\item \stageconstantpool{01 00 04 43 6F 64 65 01 00 04 6D 61 69 6E 01 00 03 28 29 56}: Constant Pool
\begin{compactitem}
    \setlength\itemsep{-5px}
    \item \stagemajor{01} \stageminor{00 04} \stageconstantsize{43 6F 64 65} \\
    \stagemajor{01}: Constant Pool Info érték \lstinline{(CONSTANT_Utf8)} \\
    \stageminor{00 04}: 4 hosszú \\
    \stageconstantsize{43 6F 64 65}: A \lstinline{CONSTANT_Utf8} értéke: \lstinline{Code}
    \item \stagemajor{01} \stageminor{00 04} \stageconstantsize{6D 61 69 6E} \\
    \stagemajor{01}: Constant Pool Info érték \lstinline{(CONSTANT_Utf8)} \\
    \stageminor{00 04}: 4 hosszú \\
    \stageconstantsize{6D 61 69 6E}: A \lstinline{CONSTANT_Utf8} értéke: \lstinline{main}
    \item \stagemajor{01} \stageminor{00 03} \stageconstantsize{28 29 56} \\
    \stagemajor{01}: Constant Pool Info érték \lstinline{(CONSTANT_Utf8)} \\
    \stageminor{00 03}: 3 hosszú \\
    \stageconstantsize{28 29 56}: A \lstinline{CONSTANT_Utf8} értéke: \lstinline{()V}
\end{compactitem}
\item \stageaccessflags{00 21}: Hozzáférési zászlók \lstinline{(Public, Super)} - elhanyagolhatóak ebben az esetben
\item \stagethisclass{00 00}: \lstinline{This} osztály indexe a Constant Pool-ban
\item \stagesuperclass{00 00}: \lstinline{Super} osztály indexe a Constant Pool-ban
\item \stageinterfacesize{00 00}: Interfészek száma
\item \stagefieldsize{00 00}: Adattagok száma
\item \stagemethodsize{00 01}: Függvények száma
\item \stagemethods{00 09 00 02 00 03 00 01 00 01 00 00 00 0D 00 00 00 00 00 00 00 01 B1 00 00 00 00}: Függvények
\begin{compactitem}
    \setlength\itemsep{-5px}
    \item \stagemajor{00 09} \stageminor{00 02} \stageconstantsize{00 03} \stageconstantpool{00 01} \stageaccessflags{00 01 00 00 00 0D 00 00 00 00 00 00 00 01 B1 00 00 00 00} \\
    \stagemajor{00 09}: Hozzáférési zászlók \lstinline{(Public, Static)} \\
    \stageminor{00 02}: Constant Poolban lévő indexe a függvénynek: \lstinline{main} \\
    \stageconstantsize{00 03}: Függvény leírása (bemeneti paraméterek, visszatérési érték): \lstinline{()V} \\
    \stageconstantpool{00 01}: Függvény attribútumainak száma \\
    \stageaccessflags{00 01 00 00 00 0D 00 00 00 00 00 00 00 01 B1 00 00 00 00}: Attribútumok
    \begin{compactitem}
        \setlength\itemsep{-5px}
        \item[•] \stagemajor{00 01} \stageminor{00 00 00 0D} \stageconstantsize{00 00 00 00 00 00 00 01 B1 00 00 00 00} \\
        \stagemajor{00 01}: Constant Pool-ban lévő indexe az attribútumnak: \lstinline{Code} \\
        \stageminor{00 00 00 0D}: Attribútum hossza (\lstinline{0D} = 13 bájt) \\
        \stageconstantsize{00 00 00 00 00 00 00 01 B1 00 00 00 00}: Attribútum
            \begin{compactitem}
            \setlength\itemsep{0px}
                \item[–] \stagemajor{00 00} \stageminor{00 00} \stageconstantsize{00 00 00 01} \stageconstantpool{B1} \stageaccessflags{00 00} \stagethisclass{00 00} \\
                \stagemajor{00 00}: Stack mérete  \\
                \stageminor{00 00}: Lokális változók száma \\
                \stageconstantsize{00 00 00 01}: Kód hossza \\
                \stageconstantpool{B1}: Kód \lstinline{(B1 = return)}  \\
                \stageaccessflags{00 00}: Kivételek száma \\
                \stagethisclass{00 00}: Attribútum attribútumainak száma
        \end{compactitem}
    \end{compactitem}
\end{compactitem}
\item \stageattributes{00 00}: Osztály attribútumainak száma
\end{compactitem}